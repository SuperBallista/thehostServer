상태동기화 아키텍처 정리

클라이언트의 스벨트 Store와 서버의 Redis 데이터 값을 동기화
동기화 방법
웹소켓인스턴스는 2개 정도만 열고
update:user:userId + update:state:lobby 또는 update:state:roomId

웹소켓으로 전달받는 내용을 객체 프로퍼티로 할당해놓고
전달받은 내용에서 해당 프로퍼티가 존재할 때 그 값을 store에 업데이트하도록 별도의 함수 파일로 작성하기
ex) update:user:userId 로 전달받은 내용은 객체의 프로퍼티로 nickname, id, status 등등을 모두 가질 수 있고 없을 수도 있음.
그러나 여기서 status값을 받으면 status만 store에서 set해서 변경하는 것

+ publish로 업데이트 요청할 때는 internal:user:userId 이런식으로 보내고 message 안은 업데이트 가능한 요소들을 타입으로 지정 후 배열에 담아서 통신